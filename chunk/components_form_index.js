(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"61":function(e,n,t){"use strict";t.r(n);var o=t(0),r=t(2),l=t(70),a=t(71);t.d(n,"default",function(){return m});var i,u,c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},s=function(){function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}(),p=function get(e,n,t){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,n,t)}if("value"in o)return o.value;var l=o.get;return void 0!==l?l.call(t):void 0};function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var m=(u=i=function(e){function Cl_Form(){var e,n,t;!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Cl_Form);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=t=_possibleConstructorReturn(this,(e=Cl_Form.__proto__||Object.getPrototypeOf(Cl_Form)).call.apply(e,[this].concat(r))),t.ref=null,t.refFunc=function(e){t.ref=e},t.state={"model":{"name":"我是名字","phone":"188","hobby":[]},"message":"","showMessage":!1,"messageType":"info"},_possibleConstructorReturn(t,n)}return function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(Cl_Form,r["a"].Component),s(Cl_Form,[{"key":"handleSubmit","value":function handleSubmit(){var e=this;this.ref.validate(function(n){e.setState({"message":"数据校验"+(n?"通过":"未通过"),"messageType":n?"success":"error","showMessage":!0})})}},{"key":"render","value":function render(){var e=this,n=this.state,t=n.model,r=n.showMessage,i=n.message,u=n.messageType;return o.l.createElement(l.s,null,o.l.createElement(l.v,{"message":i,"show":r,"type":u,"onClose":function onClose(){e.setState({"showMessage":!1})}}),o.l.createElement(l.O,{"title":"实时校验&&失焦校验","textColor":"black","type":"icon"}),o.l.createElement(l.f,null,"由于小程序的 view 没有失焦事件，目前组件库只能做到 model 里面的数据更新就会进行校验，如果想做到失焦校验请手动在 Input 组件下绑定 onBlur 事件，在此事件里面进行数据更新。 具体用法请看文档。"),o.l.createElement(l.f,null,o.l.createElement(l.m,{"ref":this.refFunc,"model":t,"rules":{"name":function name(e,n,t){return e.required(n)?!(n.length>5&&(t("姓名长度不能超过 5"),1)):(t("姓名不能为空"),!1)},"phone":function phone(e,n,t){return e.required(n)?!!e.phone(n)||(t("手机号码不正确"),!1):(t("手机号码不能为空"),!1)},"hobby":function hobby(e,n,t){return!(n.length<2&&(t("至少选择 2 项"),1))}}},o.l.createElement(l.n,{"prop":"name","required":!0},o.l.createElement(l.r,{"title":"姓名（失焦）","value":t.name,"onBlur":function onBlur(n){e.setState({"model":c({},e.state.model,{"name":n})})}})),o.l.createElement(l.n,{"prop":"phone","required":!0},o.l.createElement(l.r,{"title":"手机号码（实时）","value":t.phone,"onChange":function onChange(n){e.setState({"model":c({},e.state.model,{"phone":n})})}})),o.l.createElement(l.n,{"prop":"hobby"},o.l.createElement(l.g,{"type":"form","shape":"round","title":"选择爱好","checkboxGroup":[{"key":"下棋","value":"xiaqi"},{"key":"画画","value":"huahua"},{"key":"唱歌","value":"singsong"}],"onChange":function onChange(n){e.setState({"model":c({},t,{"hobby":n})})}})))),o.l.createElement(l.s,{"padding":"normal","paddingDirection":"around"},o.l.createElement(l.e,{"text":"校验","shape":"round","long":!0,"onClick":this.handleSubmit.bind(this)})),o.l.createElement(a.a,{"code":'\n```\n// 设置校验规则\nconst rules = {\n  name(rule, value, callback) {\n    if (!rule.required(value)) {\n      callback("姓名不能为空");\n      return false;\n    }\n    if (value.length > 5) {\n      callback("姓名长度不能超过 5");\n      return false;\n    }\n    return true;\n  },\n  phone(rule, value, callback) {\n    if (!rule.required(value)) {\n      callback("手机号码不能为空");\n      return false;\n    }\n    if (!rule.phone(value)) {\n      callback("手机号码不正确");\n      return false;\n    }\n    return true;\n  },\n  hobby(rule, value, callback) {\n    if (value.length < 2) {\n      callback("至少选择 2 项");\n      return false;\n    }\n    return true;\n  }\n}\n\n// Form 用法\nrefFunc = node => {\n  this.ref = node;\n}\n  \n<ClForm ref={this.refFunc} model={model} rules={rules}>\n  <ClFormItem prop="name" required>\n    <ClInput\n      title="姓名（失焦）"\n      value={model.name}\n      onBlur={value => {\n        this.setState({\n          model: {\n            ...this.state.model,\n            name: value\n          }\n        });\n      }}\n    />\n  </ClFormItem>\n  <ClFormItem prop="phone" required>\n    <ClInput\n      title="手机号码（实时）"\n      value={model.phone}\n      onChange={value => {\n        this.setState({\n          model: {\n            ...this.state.model,\n            phone: value\n          }\n        });\n      }}\n    />\n  </ClFormItem>\n  <ClFormItem prop="hobby">\n    <ClCheckbox\n      type="form"\n      shape="round"\n      title="选择爱好"\n      checkboxGroup={[\n        {\n          key: "下棋",\n          value: "xiaqi"\n        },\n        {\n          key: "画画",\n          value: "huahua"\n        },\n        {\n          key: "唱歌",\n          value: "singsong"\n        }\n      ]}\n      onChange={value => {\n        this.setState({\n          model: {\n            ...model,\n            hobby: value\n          }\n        });\n      }}\n    />\n  </ClFormItem>\n</ClForm>\n\n// 整体校验\n// 直接调用 ref 里的 validate 方法\nhandleSubmit() {\n  this.ref.validate(success => {\n    this.setState({\n      message: `数据校验${success ? "通过" : "未通过"}`,\n      messageType: success ? "success" : "error",\n      showMessage: true\n    });\n  });\n}\n```\n'}))}},{"key":"componentDidMount","value":function componentDidMount(){p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidMount",this)&&p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidShow",this)&&p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidHide",this)&&p(Cl_Form.prototype.__proto__||Object.getPrototypeOf(Cl_Form.prototype),"componentDidHide",this).call(this)}}]),Cl_Form}(),i.config={"navigationBarTitleText":"Form 表单"},u)},"71":function(e,n,t){"use strict";t.d(n,"a",function(){return c});var o=t(0),r=t(2),l=t(261),a=t(70),i=t(72),u=function(){function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();var c=function(e){function GenerateCode(){return function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,GenerateCode),function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(GenerateCode.__proto__||Object.getPrototypeOf(GenerateCode)).apply(this,arguments))}return function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(GenerateCode,r["a"].Component),u(GenerateCode,[{"key":"render","value":function render(){var e=this.props;return o.l.createElement(l.a,null,r.a.getEnv()===r.a.ENV_TYPE.WEB?"":o.l.createElement(a.s,{"padding":"normal","paddingDirection":"bottom"},o.l.createElement(a.a,{"title":"示例代码","card":!0},o.l.createElement(a.s,{"padding":"normal","paddingDirection":"around"},o.l.createElement(i.a,{"raw":!1,"richText":e.code,"type":"markdown"})))))}}]),GenerateCode}();c.defaultProps={"code":""}}}]);